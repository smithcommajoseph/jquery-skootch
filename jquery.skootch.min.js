/*
	* jQuery Skootch: http://jquery-skootch.twohard.com/
	*
	* Dependencies:
	* jQuery 1.4+ (jquery.com)
	*
*/
(function(h){var i="1.0",e=".skooEvents",l="skooState",m="skooOpts",f={init:function(o,n){return this.each(function(){var p=h(this),s=c(o,n),q=h(s.indigen).attr("id")+"-"+s.wrapperSuffix,r=h(s.indigen).wrap(function(){return'<div id="'+q+'" syle="position: relative;"/>'});p.data(m,s);h(s.indigen).data(l,0);return h("#"+p.attr("id")+", "+s.invaderLinks).bind("click"+e,clickHandler=function(u){var t=function(){if(s.invaderClickCallback!==null){s.invaderClickCallback(u)}else{if(h(u.target).attr("href")!==""||typeof h(u.target).attr("href")!==undefined){window.location=h(u.target).attr("href")}else{if(h(u.target).attr("type")==="submit"){var v=h(u.target).closest("form")}}}};p.unbind("click"+e);if(d(u,s)){p.bind("click"+e,clickHandler);if(s.invaderClickRetreat===true){b(p,s,function(){t()})}else{t()}}else{if(h(s.indigen).data(l)==0){j(p,s,function(){p.bind("click"+e,clickHandler)})}else{b(p,s,function(){p.bind("click"+e,clickHandler)})}}return false})})},advance:function(n){return this.each(function(){j(h(this),h(this).data(m),a(n))})},retreat:function(n){return this.each(function(){b(h(this),h(this).data(m),a(n))})},destroy:function(n){return this.each(function(){k(h(this),h(this).data(m),a(n))})}};function c(o,n){var s={},r={},q;if(typeof o=="object"){s=o}if(typeof o=="string"){if(n!==undefined){for(q in h.fn.skootch.defaults){if(q==o){s[o]=n}}}}return h.extend({},h.fn.skootch.defaults,s)}function a(n){return(n!==undefined&&n.constructor==Function)?n:null}function d(o,p){for(var n=0;n<h(p.invaderLinks).length;n++){if(o.target===h(p.invaderLinks)[n]){return true}}}function g(t,q){var r=h(q.invader).outerWidth(true),o=h(q.indigen).css(q.justify),w,n,v={};v.indigen_advance={};v.indigen_retreat={};v.invader_advance={};v.invader_retreat={};if(q.smart===true){var p=h(window).width(),s=h(q.indigen).outerWidth(q.indigenUseMargins),u=(r*2)+q.minInvaderMargin+s;if(u<=p){w=0}else{if(p<=s){w=r+q.minInvaderMargin}else{w=(r+q.minInvaderMargin)-h(q.indigen).offset().left}}}else{w=r}if(q.justify=="right"){n="right"}else{n="left"}v.indigen_advance[n]="+="+w;v.indigen_retreat[n]="-="+o;v.invader_advance[n]="+="+r;v.invader_retreat[n]="-="+r;return v}function k(n,o,p){if(!o){return false}n.removeData(m);n.unbind("click"+e);h(o.indigen).unwrap();h(o.invader+", "+o.indigen).removeAttr("style");if(p!==null){p()}}function j(n,q,o){if(h(q.indigen).data(l)!=1){var p=g(h(q.indigen),q);h(q.indigen).data(l,1);if(q.squashOverflow!==false){h("body").css({"overflow-x":"hidden"})}h(q.indigen).css("position","relative").animate(p.indigen_advance,q.advanceSpeed,q.advanceEasing);n.removeClass(q.triggerClosed).addClass(q.triggerOpen);h(q.invader).animate(p.invader_advance,q.advanceSpeed,q.advanceEasing,o)}}function b(n,q,o){if(h(q.indigen).data(l)==1){var p=g(h(q.indigen),q);h(q.indigen).data(l,0);h(q.indigen).animate(p.indigen_retreat,q.retreatSpeed,q.retreatEasing,function(){if(q.squashOverflow!==false){h("body").css({"overflow-x":"auto"})}h(q.indigen).removeAttr("style")});n.removeClass(q.triggerOpen).addClass(q.triggerClosed);h(q.invader).animate(p.invader_retreat,q.retreatSpeed,q.retreatEasing,o)}}h.fn.skootch=function(n){if(f[n]){return f[n].apply(this,Array.prototype.slice.call(arguments,1))}else{return f.init.apply(this,arguments)}};h.fn.skootch.ver=function(){return i};h.fn.skootch.defaults={advanceEasing:"swing",advanceSpeed:600,indigen:"#skootch-indigen",indigenUseMargins:false,invader:"#skootch-invader",invaderClickCallback:null,invaderClickRetreat:true,invaderLinks:"#skootch-invader a, #skootch-invader input[type=submit]",justify:"left",minInvaderMargin:40,retreatEasing:"swing",retreatSpeed:600,smart:true,squashOverflow:true,triggerClosed:"skootch-trigger-closed",triggerOpen:"skootch-trigger-open",wrapperSuffix:"skootch-wrap"}})(jQuery);