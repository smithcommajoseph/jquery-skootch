/*!
	* jQuery Skootch: http://jquery-skootch.twohard.com/
	*
	* Dependencies:
	* jQuery 1.4+ (jquery.com)
	*
*/
(function(e){var f="1.0",c=".skooEvents",i="skooState",j="skooOpts";function b(n,m){var q={},p={},o={},l="",k=null;if(typeof n=="object"){q=n}if(typeof n=="string"){switch(n){case"destroy":case"retreat":case"advance":l=n;if(m!==undefined&&m.constructor==Function){k=m}break;default:if(m!==undefined){for(var r in e.fn.skootch.defaults){if(r==n){q[n]=m}}}}}p=e.extend({},e.fn.skootch.defaults,q);o={nextAction:l,nextActionCallback:k,params:p};return o}function d(r,n){var p=e(n.invader).outerWidth(true),l=e(n.indigen).css(n.justify),u,k,t={};t.indigen_advance={};t.indigen_retreat={};t.invader_advance={};t.invader_retreat={};if(n.smart===true){var m=e(window).width(),q=e(n.indigen).outerWidth(n.indigenUseMargins),s=(p*2)+n.minInvaderMargin+q;if(s<=m){u=0}else{if(m<=q){u=p+n.minInvaderMargin}else{var o=e(n.indigen).offset();u=(p+n.minInvaderMargin)-o.left}}}else{u=p}switch(n.justify){case"right":k=n.justify;default:k="left"}t.indigen_advance[k]="+="+u;t.indigen_retreat[k]="-="+l;t.invader_advance[k]="+="+p;t.invader_retreat[k]="-="+p;return t}function h(k,l,n){var m=e(l).data(j);if(!m){return false}e(l).removeData(j);k.unbind("click"+c);e(m.indigen).unwrap();e(m.invader+", "+m.indigen).removeAttr("style");if(n!==null){n()}}function g(k,n,l){if(e(n.indigen).data(i)!=1){var m=d(e(n.indigen),n);e(n.indigen).data(i,1);if(n.squashOverflow!==false){e("body").css({"overflow-x":"hidden"})}e(n.indigen).css("position","relative").animate(m.indigen_advance,n.advanceSpeed,n.advanceEasing);k.removeClass(n.triggerClosed).addClass(n.triggerOpen);e(n.invader).animate(m.invader_advance,n.advanceSpeed,n.advanceEasing,l)}}function a(k,n,l){if(e(n.indigen).data(i)==1){var m=d(e(n.indigen),n);e(n.indigen).data(i,0);e(n.indigen).animate(m.indigen_retreat,n.retreatSpeed,n.retreatEasing,function(){if(n.squashOverflow!==false){e("body").css({"overflow-x":"auto"})}e(n.indigen).removeAttr("style")});k.removeClass(n.triggerOpen).addClass(n.triggerClosed);e(n.invader).animate(m.invader_retreat,n.retreatSpeed,n.retreatEasing,l)}}e.fn.skootch=function(l,k){return this.each(function(){var m=e(this),q=b(l,k),s=q.params||null,p=q.nextAction||null,o=q.nextActionCallback||null;m.data(j,s);if(p!==null){switch(p){case"advance":g(m,s,o);break;case"retreat":a(m,s,o);break;case"destroy":h(m,this,o);break}}else{var n=e(s.indigen).attr("id")+"-"+s.wrapperSuffix,r=e(s.indigen).wrap(function(){return'<div id="'+n+'" syle="position: relative;"/>'});return e("#"+m.attr("id")+", "+s.invaderLinks).bind("click"+c,clickHandler=function(w){var t=false,v=function(){if(s.invaderClickCallback!==null){s.invaderClickCallback(w)}else{if(e(w.target).attr("href")!==""||typeof e(w.target).attr("href")!==undefined){window.location=e(w.target).attr("href")}else{if(e(w.target).attr("type")==="submit"){var x=e(w.target).closest("form")}}}};m.unbind("click"+c);for(var u=0;u<e(s.invaderLinks).length;u++){if(w.target===e(s.invaderLinks)[u]){t=true}}if(t===true){m.bind("click"+c,clickHandler);if(s.invaderClickRetreat===true){a(m,s,function(){v()})}else{v()}}else{if(typeof e(s.indigen).data(i)=="undefined"||e(s.indigen).data(i)===null){e(s.indigen).data(i,0).data("justify",s.justify)}if(e(s.indigen).data(i)==0){g(m,s,function(){m.bind("click"+c,clickHandler)})}else{a(m,s,function(){m.bind("click"+c,clickHandler)})}}return false})}})};e.fn.skootch.ver=function(){return f};e.fn.skootch.defaults={advanceEasing:"swing",advanceSpeed:600,indigen:"#skootch-indigen",indigenUseMargins:false,invader:"#skootch-invader",invaderClickCallback:null,invaderClickRetreat:true,invaderLinks:"#skootch-invader a, #skootch-invader input[type=submit]",justify:"left",minInvaderMargin:40,retreatEasing:"swing",retreatSpeed:600,smart:true,squashOverflow:true,triggerClosed:"skootch-trigger-closed",triggerOpen:"skootch-trigger-open",wrapperSuffix:"skootch-wrap"}})(jQuery);